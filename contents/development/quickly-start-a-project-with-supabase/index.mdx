---
title: 'Supabaseì™€ í•¨ê»˜ ë¹ ë¥´ê²Œ í”„ë¡œì íŠ¸ ì‹œì‘í•˜ê¸°'
description: 'ë¹ ë¥´ê²Œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” Supabaseë¥¼ ì•Œì•„ë´…ë‹ˆë‹¤. Next.js 14, ì¹´ì¹´ì˜¤ Oauth, ë°ì´í„°ë² ì´ìŠ¤ì— ê´€í•œ ë‚´ìš©ì„ ë‹¤ë£¹ë‹ˆë‹¤.'
date: '2023-12-30'
slug: 'quickly-start-a-project-with-supabase'
thumbnail: './images/quickly-start-a-project-with-supabase-thumbnail.png'
thumbnail_alt: 'Quickly start a project with supabase thumbnail'
category: 'development'
type: 'post'
---

# ë¹ ë¥´ê²Œ ìœ ì˜ë¯¸í•œ ì‹¤íŒ¨ë¥¼ ê²½í—˜í•˜ê¸°

<Callout>
  ğŸ’¡ ë¹ ë¥´ê²Œ í”„ë¡œì íŠ¸ë¥¼ êµ¬ì¶•í•  ìˆ˜ ìˆëŠ” Supabaseì— ëŒ€í•´ ì•Œì•„ë´…ë‹ˆë‹¤. í”¼ë“œë°±ì€ ì–¸ì œë‚˜
  í™˜ì˜ì…ë‹ˆë‹¤:)
</Callout>

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ê³ ì í•  ë•Œ ê°€ì¥ ë‚œê´€ì„ ë¶€ë”ªíˆëŠ” ë¶€ë¶„ì€ í¬ê²Œ 2ê°€ì§€ë¼ê³  ìƒê°ëœë‹¤.

- CRUD ê¸°ëŠ¥ (ë°ì´í„°ë² ì´ìŠ¤)
- ìœ ì € ê¸°ëŠ¥ (ì¸ì¦/ì¸ê°€)

ì´ 2ê°€ì§€ ìš”ì†Œê°€ ì—†ë‹¤ë©´ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ë§Œë“¤ ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ì˜ ë²”ìœ„ëŠ” êµ‰ì¥íˆ ì¶•ì†Œëœë‹¤.
í•˜ì§€ë§Œ ë‹¨ìˆœí•œ **CRUD ê¸°ëŠ¥**ê³¼ ì†Œì…œ ë¡œê·¸ì¸ì„ í™œìš©í•œ **OAuth ê¸°ëŠ¥**ë§Œ ì¶”ê°€ë˜ì–´ë„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ë´¤ì„ ë•Œ ê·¸ëŸ´ë“¯í•œ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

<br />

ì´ì™€ ê´€ë ¨ëœ ì§€ì‹ê³¼ ì—­ëŸ‰ì„ ìŒ“ì•„ì„œ ì§ì ‘ ë°±ì—”ë“œì™€ ê´€ë ¨ëœ ë¶€ë¶„ë„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤ë©´ ê°€ì¥ ì´ìƒì ì¼ ê²ƒì´ë‹¤.

í•˜ì§€ë§Œ **ìš°ë¦¬ì˜ ì‹œê°„ì€ ì œí•œ**ë˜ì–´ ìˆë‹¤.
ëª¨ë“  ì˜ì—­ì„ í˜¼ì í˜ìœ¼ë¡œ í•´ê²°í•˜ëŠ” ê²ƒì€ í˜„ì‹¤ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥ì— ê°€ê¹ë‹¤.

<br />

ê·¸ë¦¬ê³  ì´ëŸ¬í•œ í”„ë¡œì íŠ¸ì˜ í•µì‹¬ì€ **ë¹ ë¥´ê²Œ ì‹¤íŒ¨í•˜ê¸°**ì´ë‹¤.
ì§§ì€ ì‹œê°„ ì•ˆì— **ìœ ì˜ë¯¸í•œ ì‹¤íŒ¨**ë¥¼ ê²½í—˜í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

ê·¸ëŸ¬ë©´ ì–´ë–»ê²Œ ì´ 2ê°€ì§€ ë‚œê´€ì„ ì§€í˜œë¡­ê²Œ í•´ê²°í•  ìˆ˜ ìˆì„ê¹Œ?

## Supabaseë€?

> Build in a weekend, Scale to millions.

SupabaseëŠ” Firebaseì˜ ëŒ€ì•ˆìœ¼ë¡œ ë‚˜ì˜¨ ì˜¤í”ˆ ì†ŒìŠ¤ì´ë‹¤.
Firebaseì™€ ë‹¬ë¦¬ SupabaseëŠ” `PostgreSQL` ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê´€ë ¨ëœ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•´ì¤€ë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ ì£¼ìš” íŠ¹ì§•ì´ ìˆë‹¤.

- `Database`: í™•ì¥ì„±ì´ ë›°ì–´ë‚œ PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ë¥¼ í™œìš©í•œë‹¤.
- `Authentication`: ì†ì‰½ê²Œ ì†Œì…œ ë¡œê·¸ì¸ì„ í™œì„±í™”í•  ìˆ˜ ìˆë‹¤.
- `Edge Functions`: ì„œë²„ë¥¼ ë°°í¬í•˜ê±°ë‚˜ í™•ì¥í•˜ì§€ ì•Šê³ ë„ ì‚¬ìš©ì ì§€ì • ì½”ë“œë¥¼ ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
- `Storage`: ëª¨ë“  ìœ í˜•ì˜ ë””ì§€í„¸ ì½˜í…ì¸ ë¥¼ ì €ì¥ ë° ì œê³µí•œë‹¤.

ë”°ë¼ì„œ Supabaseë¥¼ í™œìš©í•˜ë©´ ì•ì„œ ë§í•œ ìš°ë¦¬ì˜ ê°€ì¥ í° ë‚œê´€ì¸ **CRUD ê¸°ëŠ¥ê³¼ ìœ ì € ê¸°ëŠ¥**ì„ ì†ì‰½ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

## Supabaseì™€ ì¹œí•´ì§€ê¸°

### Next.js ì„¸íŒ…í•˜ê¸°

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-nextjs14-tweet.png"
  alt="Supabaseì™€ Next.js 14 ê´€ë ¨ íŠ¸ìœ—"
/>

Supabaseê°€ SSR í™˜ê²½ë¿ë§Œ ì•„ë‹ˆë¼ Next.js 13ë¶€í„° ë„ì…ëœ `app router`ê°€ ì˜ ì ìš©ì´ ë˜ëŠ”ì§€ ê¶ê¸ˆí–ˆë‹¤.
ê´€ë ¨ ìë£Œë¥¼ ì°¾ì•„ë´¤ì„ ë•Œ Next.js 14ì™€ë„ í˜¸í™˜ì´ ë˜ë©° `server action` ê¸°ëŠ¥ ë˜í•œ ì•ˆì •ì ì´ë¼ê³  í•œë‹¤.
ê·¸ë˜ì„œ ê¸°ë³¸ í”„ë¡œì íŠ¸ êµ¬ì„±ì€ Next.jsë¥¼ í™œìš©í•˜ê³ ì í–ˆë‹¤.

í•˜ì§€ë§Œ ì´ë²ˆ ê¸€ì—ì„œëŠ” Next.jsì—ì„œ ì‚¬ìš©í•˜ëŠ” `use server`, `server action`ê³¼ ê°™ì€ ê°œë…ì— ëŒ€í•´ì„œëŠ” ì„¤ëª…í•˜ì§€ ì•ŠëŠ”ë‹¤.
ì´ì™€ ê´€ë ¨í•´ì„œëŠ” [Next.js íŠœí† ë¦¬ì–¼](https://nextjs.org/learn)ì—ì„œ í•™ìŠµí•´ë³´ê³  ì§„í–‰í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•œë‹¤.

ìš°ì„  ë¹ ë¥´ê²Œ í”„ë¡œì íŠ¸ë¥¼ ì„¸íŒ…í•˜ê¸° ìœ„í•´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```bash
npx create-next-app@latest -e with-supabase
```

`env.local` íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ Supabase ê´€ë ¨ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì¶”ê°€í•œë‹¤.
Supabaseì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°í•  ë•Œ ê°’ì„ ì¶”ê°€í•  ì˜ˆì •ì´ë‹¤.

```bash
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

### ë°ì´í„°ë² ì´ìŠ¤ ì ìš©í•˜ê¸°

ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì—°ê²°í•˜ê¸° ìœ„í•´ Supabaseë¡œ ë„˜ì–´ê°€ì.

Supabase [Dashboard](https://supabase.com/dashboard/projects)ì—ì„œ ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“ ë‹¤.

ì§€ì—­ì€ í•œêµ­ìœ¼ë¡œ ë³€ê²½í•œë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-new-project.png"
  alt="Supabase ìƒˆ í”„ë¡œì íŠ¸"
/>

ì•ì„œ `env.local`ì— ì¶”ê°€í•˜ì§€ ëª»í•œ URLê³¼ API Keys ê°’ì´ ìƒì„±ëœë‹¤.
`env.local`ì— ì„¤ì •í•´ì¤€ë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-project-url-api-key.png"
  alt="Supabase í”„ë¡œì íŠ¸ URL, API í‚¤"
/>

ì—¬ê¸°ê¹Œì§€ ì˜ ì§„í–‰í–ˆìœ¼ë©´ í”„ë¡œì íŠ¸ë¥¼ ì‹¤í–‰í–ˆì„ ë•Œ ë‹¤ìŒê³¼ ê°™ì´ `Login` ë²„íŠ¼ì´ ë‚˜ì˜¤ê²Œ ëœë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/project-with-login-button.png"
  alt="í”„ë¡œì íŠ¸ ë¡œê·¸ì¸ ë²„íŠ¼"
/>

ì´ì œ ë°ì´í„°ë¥¼ ë§Œë“¤ì.
í…Œì´ë¸”ì„ ìƒì„±í•˜ê±°ë‚˜ ë°ì´í„° ì‘ì—…ì„ í•  ë•ŒëŠ” `Table Editor` í˜¹ì€ `SQL Editor`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ìš°ì„  `notes` í…Œì´ë¸”ì— `id`ì™€ `title`ë¥¼ ê°€ì§„ ë°ì´í„°ë¥¼ ìƒì„±í•´ë³´ì.

`SQL Editor`ê°™ì€ ê²½ìš° ë‹¤ìŒ ìŠ¤ë‹ˆí«ì„ ë³µì‚¬í•˜ê³  ì‹¤í–‰í•˜ë©´ ëœë‹¤.

```SQL
 -- Create the table
 create table notes (
   id serial primary key,
   title text
 );

 -- Insert some sample data
 insert into notes (title)
 values
   ('Today I created a Supabase project.'),
   ('I added some data and queried it from Next.js.'),
   ('It was awesome!');
```

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/project-with-login-button.png"
  alt="Supabase SQL Editor"
/>

`Table Editor`ì—ì„œë„ ì§ì ‘ í…Œì´ë¸” ìƒì„± ë° ë°ì´í„° ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

<div style={{ display: 'flex', justifyContent: 'center', gap: '10px' }}>
  <div>
    <span>í…Œì´ë¸” ìƒì„±</span>
    <Image
      src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/notes-table.png"
      alt="notes í…Œì´ë¸” ìƒì„±"
    />
  </div>
  <div>
    <span>ë°ì´í„° ì¶”ê°€</span>
    <Image
      src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/notes-data.png"
      alt="notes ë°ì´í„° ì¶”ê°€"
    />
  </div>
</div>

ì´ë•Œ Supabae ë³´ì•ˆìœ¼ë¡œ `RLS`(Row Level Security)ë¼ëŠ” íŠ¹ì • í–‰ì— ëŒ€í•´ CRUD ê¸°ëŠ¥ì„ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ ì ìš©ë  ìˆ˜ ìˆë‹¤.
ê·¸ë˜ì„œ ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ì´ ì œí•œë  ìˆ˜ ìˆëŠ”ë°,
ìš°ì„  ì´ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ `RLS Policy`ë¥¼ ì¶”ê°€í•´ì£¼ë©´ ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ì´ ê°€ëŠ¥í•´ì§„ë‹¤.

<video controls height={500}>
  <source
    src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/videos/rls-policy.mov"
    type="video/mp4"
  />
  RLS ì •ì±…
</video>

í”„ë¡œì íŠ¸ì—ì„œ í™•ì¸í•˜ê¸° ìœ„í•´ `app/notes/page.tsx`ì— ë°ì´í„°ë¥¼ í˜¸ì¶œí•œë‹¤.

```tsx
import { createClient } from '@/utils/supabase/server'
import { cookies } from 'next/headers'

export default async function Notes() {
  const cookieStore = cookies()
  const supabase = createClient(cookieStore)
  const { data: notes } = await supabase.from('notes').select()

  return <pre>{JSON.stringify(notes, null, 2)}</pre>
}
```

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/notes-data-confirm.png"
  alt="notes ë°ì´í„° í™•ì¸"
/>

### ì¸ì¦/ì¸ê°€ êµ¬í˜„í•˜ê¸°

ìœ ì € ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ì†Œì…œ ë¡œê·¸ì¸ìœ¼ë¡œ ì¹´ì¹´ì˜¤ Oauthë¥¼ ì‚¬ìš©í•´ë³´ê³ ì í•œë‹¤.

ìš°ì„  [Kakao Developer Portal](https://developers.kakao.com/)ì—ì„œ ê´€ë ¨ ì„¤ì •ì„ ì§„í–‰í•œë‹¤.
í•œ ê°€ì§€ ì£¼ì˜í•  ì ì€ í˜„ì¬ Supabaseì˜ Auth ê¸°ëŠ¥ì—ì„œëŠ” **ë‹‰ë„¤ì„, í”„ë¡œí•„ ì‚¬ì§„, ì´ë©”ì¼**ì´ í•„ìš”í•´ì„œ **ë¹„ì¦ˆ ì•± ì „í™˜**ì„ í•´ì•¼ í•œë‹¤.
ê¸°ë³¸ì ì¸ ì„¤ì •ì„ ì§„í–‰í–ˆë‹¤ë©´ ë‹¤ìŒ 2ê°€ì§€ ê°’ì„ í™œìš©í•œë‹¤.

- ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì•± ì„¤ì • > ì•± í‚¤: `REST API Key`
- ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ > ë³´ì•ˆ: `Client secret code`

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-kakao-providers.png"
  alt="Supabase ì¹´ì¹´ì˜¤ Providers ì„¤ì •"
/>

ì´ 2ê°€ì§€ ê°’ì„ Supabase Dashboardì—ì„œ Authentication > Configuration > Providers > Kakaoì— ì¶”ê°€í•˜ë©´ ëœë‹¤.
`Callback URL (for OAuth)` ì£¼ì†ŒëŠ” ë‹¤ì‹œ ì¹´ì¹´ì˜¤ì—ì„œ ë‹¤ìŒ ê²½ë¡œë¥¼ ì°¾ì•„ê°€ ì¶”ê°€í•œë‹¤.

- ë‚´ ì• í”Œë¦¬ì¼€ì´ì…˜ > ì œí’ˆ ì„¤ì • > ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸: `Redirect URI`

<br />

ì´ì œ í”„ë¡œì íŠ¸ì— ê¸°ë³¸ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ êµ¬ì„±í•˜ì.

**app/auth/callback/kakao-button.tsx**

```tsx
'use client'

import { createClient } from '@/utils/supabase/client'

export default function KakaoButton() {
  const supabase = createClient()

  const signInWithKakao = async () => {
    await supabase.auth.signInWithOAuth({
      provider: 'kakao',
      options: { redirectTo: `${window.location.origin}/auth/callback` },
    })
  }

  return (
    <button
      onClick={signInWithKakao}
      className="w-full rounded-xl bg-slate-100 px-4 py-2"
    >
      ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸
    </button>
  )
}
```

**app/page.tsx**

```tsx
export default async function Index() {
  const cookieStore = cookies();
  const supabase = createClient(cookieStore);
  const { data: { user } } = await supabase.auth.getUser();

  const signOut = async () => {
    "use server";

    const cookieStore = cookies();
    const supabase = createClient(cookieStore);

    await supabase.auth.signOut();
  };
  ...
  return (
    <div className="flex-1 w-full flex flex-col gap-20 items-center">
      <nav className="w-full flex justify-center border-b border-b-foreground/10 h-16">
        {user ? (
          <form
            className="px-4 text-center py-2 w-full bg-slate-100 rounded-xl"
            action={signOut}>
            <button>ë¡œê·¸ì•„ì›ƒ</button>
          </form>
        ) : (
          <KakaoButton />
        )}
      </nav>
    ...
  )
}
```

ë©”ì¸ í˜ì´ì§€ì—ì„œ ë‹¤ìŒê³¼ ê°™ì´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<video controls height={500}>
  <source
    src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/videos/rls-policy.mov"
    type="video/mp4"
  />
  í”„ë¡œì íŠ¸ ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ í™•ì¸
</video>

<br />

#### ë°°í¬ í™˜ê²½ ê³ ë ¤í•˜ê¸°

í˜„ì¬ ë¡œì»¬ í™˜ê²½ì—ì„œëŠ” Redirectê°€ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

í•˜ì§€ë§Œ ë°°í¬ í™˜ê²½ì—ì„œëŠ” URLì´ ë‹¬ë¼ì ¸ `localhost:3000`ì´ ì•„ë‹ˆê²Œ ëœë‹¤.

ì´ë¥¼ ìœ„í•œ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.
ë‹¤ìŒ ê°€ë ¤ì§„ ë¶€ë¶„ì— ë°°í¬ ì£¼ì†Œë¥¼ ì…ë ¥í•œë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-redirect-urls.png"
  alt="Supabase Redirect URLs"
/>

#### ìœ ì € í…Œì´ë¸” ìƒì„±í•˜ê¸°

ì¹´ì¹´ì˜¤ì—ì„œ ì œê³µí•˜ëŠ” ì •ë³´ë§ê³  ë‹¤ë¥¸ ì •ë³´ë¥¼ ìœ ì € ë°ì´í„°ì— í¬í•¨ì‹œí‚¤ê³  ì‹¶ì„ ìˆ˜ë„ ìˆë‹¤.
ì´ë¥¼ ìœ„í•´ì„œëŠ” ìœ ì € í…Œì´ë¸”ì´ í•„ìš”í•´ì§„ë‹¤.

ì´ë•Œ Authë¡œ ìƒì„±ëœ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìœ ì €ê°€ ìƒì„±ë  ë•Œë§ˆë‹¤ ë™ì‘ì„ íŠ¸ë¦¬ê±°í•˜ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ë©´ ëœë‹¤.

Database > Functionsì—ì„œ íŠ¸ë¦¬ê±° í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤.

- Name of function: `insert_profile_for_new_user`
- Return type: `trigger`

`Definition`ì—ëŠ” ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•œë‹¤.

```bash
begin
  insert into public.profiles(id, nickname)
  values(
    new.id,
    new.raw_user_meta_data->>'user_name'
  );
  return new;
end;
```

`Show advanced settings`ì—ì„œ `Type of security`ì€ `SECURITY DEFINER`ìœ¼ë¡œ ë³€ê²½í•œë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-database-functions.png"
  alt="Supabase Database Functions"
/>

ì´ë ‡ê²Œ ë§Œë“  í•¨ìˆ˜ë¥¼ `auth` ìŠ¤í‚¤ë§ˆì— ë”°ë¼ íŠ¸ë¦¬ê±°ì‹œí‚¤ë„ë¡ í•´ì•¼ í•œë‹¤.
í•˜ì§€ë§Œ í˜„ì¬ Supabaseì—ì„œëŠ” `auth` ìŠ¤í‚¤ë§ˆê°€ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë³´í˜¸ë˜ì–´ ìˆì–´ ë‹¤ë¥´ê²Œ ì ‘ê·¼í•´ì•¼ í•œë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-database-triggers-before.png"
  alt="Supabase Database Triggers Before"
/>

íŠ¸ë¦¬ê±°ë¥¼ ì¶”ê°€í•˜ê¸° ìœ„í•´ `SQL Editor`ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.
ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

```bash
trigger ìƒì„±: create trigger trigger_name after insert on auth.users for each row execute function function_name();
trigger ì œê±°: drop trigger if exists trigger_name on auth.users;
```

í˜„ì¬ ìš°ë¦¬ ì„¤ì •ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ íŠ¸ë¦¬ê±°ê°€ ì„±ê³µì ìœ¼ë¡œ ì¶”ê°€ëœë‹¤.

```bash
create trigger insert_profile_for_new_user after insert on auth.users for each row execute function insert_profile_for_new_user();
```

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-database-triggers-after.png"
  alt="Supabase Database Triggers After"
/>

ì´ì œ Authentication > Usersì— ì¶”ê°€ëœ ìœ ì € ì •ë³´ëŠ” ì‚­ì œí•˜ê³  `profiles` í…Œì´ë¸”ì„ ë§Œë“ ë‹¤.
`profiles`í…Œì´ë¸”ì—ëŠ” í˜„ì¬ ì„¤ì •ëœ ê°’ì— ë”°ë¼ `id`, `nickname`ìœ¼ë¡œ ì—´ì„ êµ¬ì„±í•œë‹¤.

ì´ë•Œ `id`(uuid)ëŠ” `auth` ìŠ¤í‚¤ë§ˆì˜ `users.id`ì™€ ì™¸ë˜í‚¤(foreign key) ê´€ê³„ë¥¼ ë§ºì–´ì•¼ í•œë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-profiles-foreign-key.png"
  alt="Supabase Profiles í…Œì´ë¸” ì™¸ë˜í‚¤"
/>

ì´ì œ ë‹¤ì‹œ ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì„ ì§„í–‰í•´ë³´ë©´ `profiles` í…Œì´ë¸”ì— ìœ ì € ë°ì´í„°ê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ëœë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/images/supabase-profiles-data.png"
  alt="Supabase Profile ë°ì´í„°"
/>

ì´ë ‡ê²Œ í•˜ë©´ ìš°ë¦¬ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” ìœ ì € í…Œì´ë¸”ì„ í™œìš©í•˜ë©´ì„œ ìœ ì €ì— ëŒ€í•œ ì¶”ê°€ ì‘ì—…ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

## ì‹¤ì „ìœ¼ë¡œ

Supabaseì— ëŒ€í•´ í•™ìŠµí•´ë´¤ìœ¼ë‹ˆ í•˜ë‚˜ì˜ ì‘ì€ ì•±ì„ ë§Œë“¤ì–´ë³´ì.
ê°„ë‹¨í•˜ê²Œ í”„ë¡œí† íƒ€ì…ì„ ë§Œë“¤ì–´ ë³´ë©´ì„œ í”„ë¡œì íŠ¸ ì„¸íŒ…ë¶€í„° ë°°í¬ê¹Œì§€ ì§„í–‰í–ˆë‹¤.

<video controls height={500}>
  <source
    src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/quickly-start-a-project-with-supabase/videos/nextjs-with-supabase-playground.mov"
    type="video/mp4"
  />
  nextjs-with-supabase-playground
</video>

[nextjs-with-supabase-playground](https://github.com/jgjgill/nextjs-with-supabase-playground)

<br />

ì´ì œ ë§Œë“¤ê³  ì‹¶ì€ ì£¼ì œë¥¼ ì°¾ìœ¼ë©´ ë°±ì—”ë“œì— ëŒ€í•œ ê±±ì •ì—†ì´ë„ ì§„í–‰í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

ì‘ê³  ë¹ ë¥´ê²Œ ì‹œë„í•˜ê³  ì—¬ëŸ¬ ì‹¤íŒ¨ë¥¼ ê²½í—˜í•˜ë©° ìƒˆë¡œìš´ ê°€ì¹˜ë¥¼ ë§Œë“¤ì–´ë³´ì.

## ì°¸ê³  ë¬¸ì„œ

- [Supabase is now compatible with Next.js 14](https://supabase.com/blog/supabase-is-now-compatible-with-nextjs-14)
- [Login with Kakao](https://supabase.com/docs/guides/auth/social-login/auth-kakao)
