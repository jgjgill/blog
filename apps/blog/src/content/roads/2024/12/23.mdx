---
title: 'ìµœì í™” ì²«ê±¸ìŒ ë‚´ë”›ê¸°'
date: '2024-12-25'
---

## í”„ë¡œì íŠ¸ì˜ ë²ˆë“¤ë§ì„ ë¶„ì„í•˜ì

ë„ˆë¬´ë‚˜ë„ ì•„í”ˆ ê³³ì´ ë§ì€ ìš°ë¦¬ í”„ë¡œì íŠ¸.. ğŸ¤•

í•˜ë‚˜ì”© ê°œì„ í•˜ê³  ì‹¶ì€ë° ë­ë¶€í„° í•´ì•¼í• ê¹Œ?

### Next.js + Webpack Bundle Analyzer

ìš°ì„  ì§€í‘œ ë° ì •ë³´ë“¤ì„ ì–»ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.

ê´€ë ¨ ë„êµ¬ë¥¼ ì„¤ì¹˜í•˜ì.

<br />

```bash
npm install @next/bundle-analyzer
```

<br />

**next.config.js**

```js
/** @type {import('next').NextConfig} */
const nextConfig = {}

const withBundleAnalyzer = require('@next/bundle-analyzer')({
  enabled: process.env.ANALYZE === 'true',
})

module.exports = withBundleAnalyzer(nextConfig)
```

<br />

**ì‹¤í–‰ ëª…ë ¹ì–´**

```bash
ANALYZE=true npm run build
# or
ANALYZE=true yarn build
# or
ANALYZE=true pnpm build
```

## ë²ˆë“¤ ë¶„ì„ ì˜µì…˜

3ê°œì˜ ì°¨íŠ¸ê°€ ë‚˜ì˜¨ë‹¤.

<br />

### analyze/client

![analyze/client ì°¨íŠ¸](../../images/analyze-client-chart.png)

<br />

- í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ì½”ë“œì˜ ë²ˆë“¤ ë¶„ì„
- ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œì˜ ë²ˆë“¤ í¬ê¸°

### analyze/server

![analyze/server ì°¨íŠ¸](../../images/analyze-server-chart.png)

<br />

- ì„œë²„ ì‚¬ì´ë“œ ì½”ë“œì˜ ë²ˆë“¤ ë¶„ì„
- ì„œë²„ì—ì„œ ì‹¤í–‰ë˜ëŠ” ì½”ë“œ ë¶„ì„

### server/analyze/server

![server/analyze/server ì°¨íŠ¸](../../images/server-analyze-server-chart.png)

<br />

- ì „ì²´ êµ¬ì¡° ë¶„ì„
- `Next.js` ì„œë²„ ìì²´ì˜ ì½”ë“œì™€ ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ ê´€ë ¨ ì½”ë“œ í¬í•¨

## ë²ˆë“¤ í¬ê¸° ì¸¡ì • ì§€í‘œ

ì‹¤í–‰ëœ ì°¨íŠ¸ì—ì„œëŠ” ë‹¤ìŒ ì§€í‘œë“¤ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### Stat Size (Static Size)

- íŒŒì¼ì˜ ì‹¤ì œ ë¬¼ë¦¬ì  í¬ê¸°
- ë””ìŠ¤í¬ì— ì €ì¥ëœ ì›ë³¸ íŒŒì¼ í¬ê¸°

### Parsed / Compiled Size

- JS ì—”ì§„ì´ ì½”ë“œë¥¼ íŒŒì‹±í•˜ê³  ì»´íŒŒì¼í•œ í›„ì˜ í¬ê¸°
- ë¸Œë¼ìš°ì €ê°€ ì‹¤ì œ ì‹¤í–‰í•  ë•Œ ë©”ëª¨ë¦¬ì—ì„œ ì°¨ì§€í•˜ëŠ” í¬ê¸°
- ì£¼ì„, ê³µë°± ë“±ì´ ì œê±°ëœ í¬ê¸°

### Gzipped Size

- ë„¤íŠ¸ì›Œí¬ í†µí•´ ì „ì†¡ë  ë•Œì˜ ì••ì¶• í¬ê¸°
- ì„œë²„ì—ì„œ gzip ì••ì¶•ì„ ì ìš©í•œ í›„ì˜ í¬ê¸°
- ì‹¤ì œ ì‚¬ìš©ìê°€ ë‹¤ìš´ë¡œë“œí•œ í¬ê¸°

## ì´ìƒí•˜ê²Œ ë°°í¬ í™˜ê²½ì—ì„œë§Œ ì—ëŸ¬ê°€ ë°œìƒ?!

![@next/bundle-analyzer 502 ì—ëŸ¬](../../images/next-bundle-analyzer-502-error.png)

<br />

ë¡œì»¬ì—ì„œ í…ŒìŠ¤íŠ¸í–ˆì„ ë•ŒëŠ” ì´ìƒì´ ì—†ì—ˆëŠ”ë° ë°°í¬ í™˜ê²½ì—ì„œ 502 ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.. ğŸ« 

<br />

> Note: if installing as aÂ devDependencyÂ make sure to wrap the require in
> aÂ process.envÂ check asÂ next.config.jsÂ is loaded duringÂ next startÂ as well.

<br />

í•´ë‹¹ ìƒí™©ì„ íŒ€ì— ê³µìœ í–ˆëŠ”ë° ë‹¤í–‰íˆë„ ë¹ ë¥´ê²Œ ê´€ë ¨ ì •ë³´ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆì—ˆë‹¤. ğŸ˜‚

ë°°í¬ í™˜ê²½ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `devDependencies`ì˜ íŒ¨í‚¤ì§€ë“¤ì´ ì„¤ì¹˜ë˜ì§€ ì•ŠëŠ”ë‹¤.

<br />

**Before**

```
"devDependencies": {
  ...
  "@next/bundle-analyzer": "12.3.4"
}
```

<br />

**After**

```
"dependencies": {
  ...
  "@next/bundle-analyzer": "12.3.4"
}
```

<br />

ì´ì œ ë°°í¬ í™˜ê²½ì—ì„œë„ ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤. ğŸ˜®â€ğŸ’¨
