---
title: 'useIdì— ëŒ€í•´ ì•Œì•„ë³´ê¸°'
description: 'useIdì™€ ê´€ë ¨ëœ ê°œë…ë“¤ì„ ì´í•´í•©ë‹ˆë‹¤.'
date: '2023-12-09'
thumbnail: './images/use-id-thumbnail.png'
thumbnail_alt: 'use-id-thumbnail'
category: 'development'
---

<Callout>ğŸ’¡ useIdì™€ ê´€ë ¨ëœ ê°œë…ë“¤ì„ ì´í•´í•©ë‹ˆë‹¤. í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤:)</Callout>

## useId

> useId is a React Hook for generating unique IDs that can be passed to accessibility attributes.

`useId`ì— ëŒ€í•œ ì •ì˜ë¥¼ ì‚´í´ë´¤ì„ ë•Œ **ì ‘ê·¼ì„± ì†ì„±ì— ì „ë‹¬í•  ìˆ˜ ìˆëŠ” ê³ ìœ í•œ Idë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í›…**ì´ë¼ê³  í•œë‹¤.

`useId` ìì²´ì˜ ì‚¬ìš©ë²•ì€ ë§¤ìš° ê°„ë‹¨í•˜ë‹¤.

ì»´í¬ë„ŒíŠ¸ ìµœìƒë‹¨ì—ì„œ `useId`ë¥¼ í˜¸ì¶œí•˜ë©´ ëì´ë‹¤.
ê·¸ëŸ¬ë©´ ë¬¸ìì—´ë¡œ ê³ ìœ í•œ idë¥¼ ë°˜í™˜í•´ì¤€ë‹¤.

```tsx
import { useId } from 'react'

function PasswordField() {
  const passwordHintId = useId()
  // ...
}
```

## ì£¼ì˜í•  ì 

> useId should not be used to generate keys in a list.
> Keys should be generated from your data.

ì²˜ìŒ `useId`ë¥¼ ì ‘í–ˆì„ ë•Œ ê³ ìœ í•œ idë¥¼ ìƒì„±í•  ìˆ˜ ìˆìœ¼ë‹ˆ '`uuid`ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ ë˜ê² êµ¬ë‚˜'ë¼ê³  ìƒê°í–ˆë‹¤.

í•˜ì§€ë§Œ ê³µì‹ ë¬¸ì„œì—ì„œëŠ” ë¦¬ìŠ¤íŠ¸ì— `key`ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ì§€ì–‘í•œë‹¤ê³  ì•ˆë‚´í•œë‹¤.
`key`ëŠ” ë°ì´í„°ì—ì„œ ìƒì„±í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•œë‹¤.

ê·¸ë¦¬ê³  `useId`ëŠ” í›…ì´ë‹¤ ë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¨ë‹¤.

![useId error](./images/use-id-error.png)

## ì˜¬ë°”ë¥´ê²Œ ì‚¬ìš©í•˜ê¸°

ê·¸ëŸ¬ë©´ ì–´ë””ì— `useId`ë¥¼ ì‚¬ìš©í•´ì•¼ í• ê¹Œ?

ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì€ `accessibility attributes`ì´ë‹¤.
**ì ‘ê·¼ì„± ì†ì„±**ê³¼ ê´€ë ¨í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

### id ì¶©ëŒì˜ ìœ„í—˜ ë°©ì§€

ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì„ ë³´ì.

```tsx
<label>
  Password:
  <input
    type="password"
    aria-describedby="password-hint"
  />
</label>
<p id="password-hint">
  The password should contain at least 18 characters
</p>
```

idë¥¼ í•˜ë“œì½”ë”©í•˜ëŠ” ê²ƒì€ ì¢‹ì§€ ëª»í•œ ìŠµê´€ì´ë‹¤.

ì´ë•Œ ê³ ìœ í•œ idë¡œ `useId`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì´ë‹¤.

```tsx
const passwordHintId = useId()

return (
  <>
    <label>
      Password:
      <input type="password" aria-describedby={passwordHintId} />
    </label>
    <p id={passwordHintId}>The password should contain at least 18 characters</p>
  </>
)
```

![useId example](./images/use-id-example.png)

í¼ê³¼ ê°™ì´ ë‚´ë¶€ì— ì—¬ëŸ¬ ìš”ì†Œê°€ ì‚¬ìš©ë˜ëŠ” ê²½ìš°ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.

```tsx
const formId = useId()

return (
  <form>
    <label htmlFor={formId + '-firstName'}>First Name:</label>
    <input id={formId + '-firstName'} type="text" />
    <hr />
    <label htmlFor={formId + '-lastName'}>Last Name:</label>
    <input id={formId + '-lastName'} type="text" />
  </form>
)
```

### SSR í™˜ê²½ì—ì„œì˜ í™œìš©

> With server rendering, useId requires an identical component tree on the server and the client.
> If the trees you render on the server and the client donâ€™t match exactly, the generated IDs wonâ€™t match.

SSR í™˜ê²½ì—ì„œë„ `useId`ê°€ ìœ ìš©í•˜ê²Œ ì“°ì¸ë‹¤.

`uuid`ì™€ ê°™ì€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ SSR í™˜ê²½ì—ì„œ ì‚¬ìš©í•  ì‹œ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë‹¤ë¥¸ idë¥¼ ìƒì„±í•œë‹¤.

í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ Next.jsì—ì„œ ì§„í–‰í–ˆë‹¤.

```tsx
const uuidValue = uuidv4()

console.log('uuid:', uuidValue)

return (
  <div>
    <div>uuid: {uuidValue}</div>
  </div>
)
```

![uuid error](/images/posts/learn-about-use-id/uuid-error.gif)

`Warning: Text content did not match. Server: "ì„œë²„ì—ì„œ ìƒì„±ëœ IDê°’" Client: "í´ë¼ì–´ì¸íŠ¸ì—ì„œ ìƒì„±ëœ IDê°’"`

ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•˜ê³  ì½˜ì†” ê°’ë„ ë‹¤ë¥´ê²Œ ì°íˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<br />

í•˜ì§€ë§Œ `useId`ëŠ” ë™ì¼í•œ idë¥¼ ìƒì„±í•´ ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸ í™˜ê²½ì—ì„œ ë Œë”ë§í•˜ëŠ” íŠ¸ë¦¬ë¥¼ ì •í™•íˆ ì¼ì¹˜ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

```tsx
const useIdValue = useId();

console.log("useId: ", useIdValue);

return (
  <div>
    <div>useId: {useIdValue}</div>
  </div>
);
}
```

![userId success](/images/posts/learn-about-use-id/use-id-success.gif)

## Appì´ ì—¬ëŸ¬ ê°œì¸ ìƒí™©ì—ì„œëŠ”?

í•œ í˜ì´ì§€ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ React ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë Œë”ë§í•˜ëŠ” ìƒí™©ì´ ë°œìƒí•  ìˆ˜ë„ ìˆë‹¤.
(ì•„ì§ í•œ ë²ˆë„ ê²½í—˜í•´ë³´ì§€ ëª»í–ˆì§€ë§Œ... ğŸ˜‡)

ì´ë•Œ `identifierPrefix`ë¥¼ `createRoot` í˜¹ì€ `hydrateRoot`ì— ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```jsx
// index.js

const root1 = createRoot(document.getElementById('root1'), {
  identifierPrefix: 'my-first-app-',
})
root1.render(<App />)

const root2 = createRoot(document.getElementById('root2'), {
  identifierPrefix: 'my-second-app-',
})
root2.render(<App />)

// App.js
const useIdValue = useId()
console.log('Generated identifier:', useIdValue)
// Generated identifier: :my-first-app-r0:
// Generated identifier: :my-second-app-r1:
```

## ì°¸ê³  ë¬¸ì„œ

- [useId](https://react.dev/reference/react/useId)
