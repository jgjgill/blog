---
title: 'ë‚˜ë§Œì˜ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§Œë“¤ì–´ë³´ê¸°'
description: 'ë‚˜ë§Œì˜ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤.'
date: '2023-10-05'
thumbnail: './images/component-library-thumbnail.png'
thumbnail_alt: 'component-library-thumbnail'
category: 'development'
---

<Callout>
  ğŸ’¡ ë‚˜ë§Œì˜ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ë´…ë‹ˆë‹¤. í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤:)
</Callout>

í•´ë‹¹ ê¸€ì€ Vite+TypeScript+TailwindCSS í™˜ê²½ì—ì„œ npmì— ë°°í¬í•˜ëŠ” ê³¼ì •ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.

## ê¸°ë³¸ í™˜ê²½ ì„¸íŒ…

Viteì™€ ê´€ë ¨ëœ ê¸°ë³¸ ì„¸íŒ…ë¶€í„° ì‹œì‘í•˜ì.
ê´€ë ¨ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤.

```bash
npm create vite@latest
yarn create vite
```

`React+TypeScript` í™˜ê²½ì„ ì„ íƒí•œë‹¤.

`Tailwind` ë˜í•œ ê¸°ë³¸ ì„¤ì¹˜ ëª…ë ¹ì–´ë“¤ì„ ì‹¤í–‰í•œë‹¤.

```bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
```

ì¶”ê°€ëœ íŒŒì¼ì—ì„œ `tailwind.config.js` ê²½ë¡œë¥¼ ì§€ì •í•œë‹¤.

```js
/** @type {import('tailwindcss').Config} */
export default {
  content: ['./index.html', './src/**/*.{js,ts,jsx,tsx}'],
  theme: {
    extend: {},
  },
  plugins: [],
}
```

`./src/index.css`ì— `Tailwind` ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•œë‹¤.

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

ìŠ¤í† ë¦¬ë¶ ì„¤ì¹˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤.

```bash
npx storybook@latest init
```

ìŠ¤í† ë¦¬ë¶ ê´€ë ¨ëœ í”ŒëŸ¬ê·¸ì¸ë“¤ë„ ì•ˆë‚´ì— ë”°ë¼ ì„¤ì¹˜í•˜ì.

ì„¤ì¹˜ëœ ìŠ¤í† ë¦¬ë¶ ê´€ë ¨ íŒŒì¼ë“¤ì—ì„œ `preview.ts`ì— `Tailwind` ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•œë‹¤.

```tsx
import type { Preview } from '@storybook/react'
// add next line
import '../src/index.css'

const preview: Preview = {
  // ...
}
```

ì—¬ê¸°ê¹Œì§€ ì§„í–‰í–ˆìœ¼ë©´ ê¸°ë³¸ì ì¸ í”„ë¡œì íŠ¸ ì„¸íŒ…ì€ ëë‚œ ê²ƒì´ë‹¤.

## npm ë°°í¬ ê´€ë ¨ ì‘ì—…

ì´ì œë¶€í„° `npm` ë°°í¬ì™€ ê´€ë ¨ëœ ì‘ì—…ì„ ì§„í–‰í•˜ì.

í˜„ì¬ í•˜ê³ ì í•˜ëŠ” ì¼ì€ **ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**ë¥¼ ë§Œë“œëŠ” ê²ƒì´ë‹¤.

ê·¸ë˜ì„œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë£¨íŠ¸ ê²½ë¡œì— ë‚´ë³´ë‚´ëŠ” ì‘ì—…ì´ í•„ìš”í•˜ë‹¤.

<br />

`components`í´ë”ì— í…ŒìŠ¤íŠ¸ ë²„íŠ¼ì„ ë§Œë“¤ì–´ë³´ê³  ë£¨íŠ¸ ê²½ë¡œì˜ `index.ts`ë¡œ ë‚´ë³´ë‚¸ë‹¤.

<br />

**components/buttons/JGButton.tsx**

```tsx
const JGButton = (props: React.ButtonHTMLAttributes<HTMLButtonElement>) => {
  const { className, ...restProps } = props

  return (
    <button {...restProps} className={`${className} bg-blue-400 hover:bg-blue-700`} />
  )
}

export default JGButton
```

**ë£¨íŠ¸ ê²½ë¡œ**

```tsx
export { default as JGButton } from './src/components/buttons/JGButton'
```

ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ ì ìš©ë˜ê¸° ë•Œë¬¸ì— ê´€ë ¨ëœ ì„¤ì •ì´ í•„ìš”í•˜ë‹¤.

`vite`ì—ì„œëŠ” ì´ì™€ ê´€ë ¨ëœ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ `vite-plugin-dts`ê°€ ì¡´ì¬í•œë‹¤.
ì´ë¥¼ ì„¤ì¹˜í•´ì£¼ì.

```bash
npm i -D vite-plugin-dts
```

ì„¤ì¹˜ëœ í”ŒëŸ¬ê·¸ì¸ì„ `vite` ì„¤ì •ì— ì¶”ê°€í•´ì•¼ í•œë‹¤.

**vite.config.ts**

```ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import dfs from 'vite-plugin-dts'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react(), dfs()],
})
```

ì´ì œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ëŒ€í•œ ì„¤ì •ì´ ë³¸ê²©ì ìœ¼ë¡œ í•„ìš”í•˜ë‹¤.
ìš°ì„  ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

íƒ€ì… ê´€ë ¨ ì—ëŸ¬ê°€ ëœ¨ëŠ” ê²½ìš° `@types/node`ë¥¼ ì„¤ì¹˜í•´ì£¼ì.

```ts
import { defineConfig } from 'vite'
import react from '@vitejs/plugin-react'
import dfs from 'vite-plugin-dts'
import path from 'path'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [react(), dfs()],
  build: {
    lib: {
      entry: path.resolve(__dirname, 'index.ts'),
      name: 'OFF-Desgin-System',
      fileName: (format) => `index.${format}.js`,
    },
    rollupOptions: {
      external: ['react', 'react-dom'],
      output: {
        globals: {
          react: 'React',
          'react-dom': 'ReactDOM',
        },
      },
    },
    sourcemap: true,
    emptyOutDir: true,
  },
})
```

ì£¼ìš” ì†ì„±ì„ í•˜ë‚˜ì”© ì‚´í´ë³´ì.

`build.lib`ì—ì„œëŠ” `entry`, `name`, `fileName`ì´ ì‚¬ìš©ëœë‹¤.

`entry`ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°™ì€ ê²½ìš° `HTML`ì„ `entry`ë¡œ ì‚¬ìš©í•  ìˆ˜ ì—†ì–´ ì‘ì„±ì´ í•„ìš”í•˜ë‹¤.

`name`ì€ ë…¸ì¶œëœ ì „ì—­ ë³€ìˆ˜ë¡œ í˜•ì‹ì— `umd` í˜¹ì€ `iife`ê°€ í¬í•¨ë˜ëŠ” ê²½ìš° í•„ìˆ˜ì´ë‹¤.

`fileName`ì€ íŒ¨í‚¤ì§€ íŒŒì¼ ì¶œë ¥ì˜ ì´ë¦„ìœ¼ë¡œ ê¸°ë³¸ `fileName`ì€ `package.json`ì˜ ì´ë¦„ ì˜µì…˜ì´ë‹¤.

<br />

ë‹¤ìŒìœ¼ë¡œ `rollupOptions`ì´ ìˆëŠ”ë° í˜„ì¬ ì‘ì—…í•˜ê³  ìˆëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë¬´ì¡°ê±´ì ìœ¼ë¡œ ë¦¬ì•¡íŠ¸ì—ì„œ ì‚¬ìš©ëœë‹¤.
ê·¸ë˜ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ì…ì¥ì—ì„œë„ ë¦¬ì•¡íŠ¸ê°€ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í•´ë‹¹ íŒ¨í‚¤ì§€ë“¤ì„ ë²ˆë“¤ì— í¬í•¨ì‹œí‚¬ í•„ìš”ê°€ ì—†ë‹¤.

ì¦‰ ë¶ˆí•„ìš”í•œ ìš©ëŸ‰ì„ ì°¨ì§€í•˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•œ ì‘ì—…ì´ë‹¤.
`react`ì™€ `react-dom`ì„ ë²ˆë“¤ì— í¬í•¨ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.

<br />

ë‹¤ìŒìœ¼ë¡œ `tsconfig.json`ì—ì„œ ì‘ì—…ì„ ì§„í–‰í•œë‹¤.

**tsconfig.json**

```json
{
  "compilerOptions": {
    // ... other compiler options
    "declaration": true,
    "allowSyntheticDefaultImports": true
  },
  "include": ["index.ts", "src"]
}
```

`declaration` ì†ì„±ì€ í”„ë¡œì íŠ¸ ë‚´ ts, js íŒŒì¼ì— ëŒ€í•œ `.d.ts` íŒŒì¼ì„ ìƒì„±í•œë‹¤.
`true`ë¡œ ì„¤ì •ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì»´íŒŒì¼ëŸ¬ê°€ ì‹¤í–‰ëœë‹¤.

<br />

í•´ë‹¹ ì½”ë“œê°€

```ts
export let helloWorld = 'hi'
```

ì•„ë˜ì™€ ê°™ì€ `index.ts` íŒŒì¼ì˜ ìƒì„±ê³¼ í•¨ê»˜

```ts
export let helloWorld = 'hi'
```

`helloWorld.d.ts` íŒŒì¼ì´ ìƒì„±ëœë‹¤.

```ts
export declare let helloWorld: string
```

`allowSyntheticDefaultImports` ì†ì„±ì€ `import`ì™€ ê´€ë ¨ëœ ì‘ì—…ì´ë‹¤.

í•´ë‹¹ `import`ë¥¼

```tsx
import React from 'react'
```

ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ í—ˆìš©í•œë‹¤.

```tsx
import * as React from 'react'
```

ë‹¤ìŒìœ¼ë¡œ `package.json`ì—ì„œ ì‘ì—…ì´ ì§„í–‰ëœë‹¤.
ìš°ì„  ê°„ëµí•˜ê²Œ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ì¶”ê°€ëœë‹¤.

```json
{
  "name": "my-lib",
  "type": "module",
  "files": ["dist"],
  "main": "./dist/my-lib.umd.cjs",
  "module": "./dist/my-lib.js",
  "exports": {
    ".": {
      "import": "./dist/my-lib.js",
      "require": "./dist/my-lib.umd.cjs"
    }
  }
}
```

í˜„ì¬ í”„ë¡œì íŠ¸ì— ë§ê²Œ ì ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
`main`, `types`, `exports`, `files`, `module`ì„ ì¶”ê°€í•œë‹¤.

```json
{
  "name": "off-design-system",
  "private": false,
  "version": "0.0.0",
  "type": "module",
  "main": "dist/index.es.js",
  "types": "dist/index.d.ts",
  "exports": {
    ".": {
      "import": "./dist/index.es.js",
      "require": "./dist/index.umd.js",
      "types": "./dist/index.d.ts"
    },
    "./package.json": "./package.json",
    "./dist/*": "./dist/*"
  },
  "files": ["/dist"],
  "publishConfig": {
    "access": "public"
  },
  "scripts": {
    // ...
  },
  "dependencies": {
    // ...
  },
  "devDependencies": {
    // ...
  }
}
```

ìŠ¤í¬ë¦½íŠ¸ì™€ ê´€ë ¨í•´ì„œ `Tailwind`ì™€ ê´€ë ¨ëœ ëª…ë ¹ì–´ë„ ì¶”ê°€í•´ì£¼ì.
ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•  ë•Œ ìŠ¤íƒ€ì¼ ì½”ë“œê°€ ìˆì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— í•„ìš”í•˜ë‹¤.

```json
"scripts": {
  // ...
  "build": "tsc && vite build && npm run tailwind",
  "tailwind": "npx tailwindcss -o ./dist/index.css --minify",
  // ...
},
```

ì—¬ê¸°ê¹Œì§€ í–ˆìœ¼ë©´ ëª¨ë“  ì‘ì—…ì„ ë§ˆë¬´ë¦¬í•œ ê²ƒì´ë‹¤.

<br />

npm ë°°í¬ëŠ” ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤.

ìš°ì„  `npm login`ìœ¼ë¡œ í„°ë¯¸ë„ì—ì„œ npm ë¡œê·¸ì¸ì„ ì§„í–‰í•œë‹¤.

```bash
npm login
```

í•´ë‹¹ ì •ë³´ë¥¼ ì…ë ¥í•œë‹¤.

```plain text
Username: ID
Password: PW
Email: íšŒì›ê°€ì… í•œ ì´ë©”ì¼
OTP: ì´ë©”ì¼ì„ ì…ë ¥í•˜ê³  ë‚œ ë‹¤ìŒ í•´ë‹¹ ë©”ì¼ì— OTP ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ë©ë‹ˆë‹¤.
```

`npm run build`ë¥¼ í†µí•´ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì‚¬ìš©ë  íŒŒì¼ë“¤ì„ ìƒì„±í•œë‹¤.

<div style={{ display: 'flex', justifyContent: 'center' }}>
  <Image
    height="400"
    src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/create-your-own-component-library/images/npm-run-build-dist.png"
    alt="npm-run-build-dist"
  />
</div>

ê·¸ ë‹¤ìŒ `npm publish`ë¥¼ ì…ë ¥í•˜ë©´ ë°°í¬ê°€ ì§„í–‰ëœë‹¤.
ì—¬ê¸°ì„œ ì£¼ì˜í•  ì ì€ ìƒˆë¡­ê²Œ npmì— ë°°í¬í•  ë•ŒëŠ” ì´ì „ ë²„ì „ë³´ë‹¤ ë†’ì•„ì•¼ í•œë‹¤.

<br />

ì˜ ë°°í¬ê°€ ë˜ì—ˆë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ npmì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/create-your-own-component-library/images/npm-result.png"
  alt="npm-result"
/>

ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

```bash
npm install off-design-system
yarn add off-design-system
```

ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ë©´ `node_modules`ì—ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<div style={{ display: 'flex', justifyContent: 'center' }}>
  <Image
    height="400"
    src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/create-your-own-component-library/images/library-dist.png"
    alt="library-dist"
  />
</div>

ì—¬ê¸°ì„œ ë§Œë“¤ì–´ì§„ `index.css`ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í”„ë¡œì íŠ¸ì— í•´ë‹¹ ìŠ¤íƒ€ì¼ì„ ì¶”ê°€í•˜ëŠ” ì½”ë“œê°€ í•„ìš”í•˜ë‹¤.

```tsx
import 'off-design-system/dist/index.css'
```

ì´ì œ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

<Image
  src="https://raw.githubusercontent.com/jgjgill/blog/main/contents/development/create-your-own-component-library/images/jgbutton-example.gif"
  alt="jgbutton-example"
/>

í˜„ì¬ ì‘ì—…ì€ ì •ë§ ê¸°ë³¸ì ì¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë°°í¬ì™€ ê´€ë ¨ëœ ë‚´ìš©ì„ì„ ì°¸ê³ í•˜ì‹œê¸¸...

ë¹ ë¥´ê²Œ ë§Œë“¤ì–´ë´¤ìœ¼ë‹ˆ ì ì  ê·¸ëŸ´ë“¯í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë§Œë“¤ì–´ë‚˜ê°€ì..! ğŸ˜‡

[off-design-system](https://www.npmjs.com/package/off-design-system)

## ì°¸ê³  ë¬¸ì„œ

- [serif-ui-components](https://github.com/serifcolakel/serif-ui-components)
- [DOCUMENTATION](https://github.com/serifcolakel/serif-ui-components/blob/main/DOCUMENTATION.md)
- [Library Mode](https://vitejs.dev/guide/build.html#library-mode)
- [Build Options](https://vitejs.dev/config/build-options.html#build-options)
