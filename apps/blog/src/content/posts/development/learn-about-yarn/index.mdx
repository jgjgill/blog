---
title: 'yarnê³¼ ì¹œí•´ì§€ê¸°'
description: 'yarnê³¼ ê´€ë ¨ëœ ê°œë…ë“¤ì„ ì´í•´í•©ë‹ˆë‹¤.'
date: '2025-02-16'
thumbnail: './images/learn-about-yarn-thumbnail.png'
thumbnail_alt: 'Learn about yarn thumbnail'
category: 'development'
---

<Callout>ğŸ’¡ yarnê³¼ ê´€ë ¨ëœ ê°œë…ë“¤ì„ ì´í•´í•©ë‹ˆë‹¤. í”¼ë“œë°±ì€ ì–¸ì œë‚˜ í™˜ì˜ì…ë‹ˆë‹¤:)</Callout>

ê°œë°œ ê³µë¶€í•˜ë‹¤ë³´ë©´ ê°•ì˜ë‚˜ ìë£Œì— ë”°ë¼ yarnì„ ì“°ëŠ” ê²½ìš°ë¥¼ ë§ì´ ë§Œë‚˜ê²Œ ëœë‹¤.

ì´ë•Œ yarnê³¼ ê´€ë ¨ëœ ì§€ì‹ì´ ëª…í™•í•˜ê²Œ ì •ë¦¬ë˜ì§€ ì•ŠëŠ” ìƒíƒœë¡œ í•™ìŠµì„ ì§„í–‰í–ˆì—ˆë‹¤.

ê·¸ë˜ì„œ ë§¤ë²ˆ ëª‡ëª‡ ë¶€ë¶„ì—ì„œ ë©ˆì¹«í•˜ëŠ” ë¶€ë¶„ë“¤ì´ ìƒê²¨ë‚¬ë‹¤.

<br />

ì´ì— ê³µì‹ ë¬¸ì„œë¥¼ ê¸°ë°˜ìœ¼ë¡œ í—·ê°ˆë ¸ë˜ í‚¤ì›Œë“œì™€ ê°œë…ë“¤ì„ ì•Œì•„ë³´ê³ ì í•œë‹¤.

## yarn Classic (1.x)ê³¼ ë‹¤ë¥¸ ì ì´ ë¬´ì—‡ì¼ê¹Œ?

ë¬¸ì„œì—ì„œëŠ” ê¸°ì¡´ 1ë²„ì „ì˜ yarnê³¼ ë¹„êµí–ˆì„ ë•Œ ì¥ì ìœ¼ë¡œ ë‹¤ìŒ í‚¤ì›Œë“œë“¤ì„ ì œì‹œí•œë‹¤.

<br />

- ì•ˆì •ì„± (Stability): yarn Classicì„ ìœ ì§€ë³´ìˆ˜í•œ ê²½í—˜ì„ í† ëŒ€ë¡œ ì•ˆì •ì  ì†Œí”„íŠ¸ì›¨ì–´ ì œê³µ
- ìƒˆë¡œìš´ ê¸°ëŠ¥ (New features): PnP, Zero-Installs, workspaces ë“± í˜„ëŒ€ì ì¸ ê°œë°œ í™˜ê²½ì— í•„ìš”í•œ ê¸°ëŠ¥ë“¤ì„ ì œê³µ
- ìœ ì—°ì„± (Flexibility): PnP, node_modules, pnpm ìŠ¤íƒ€ì¼ ë“± ë‹¤ì–‘í•œ ì„¤ì¹˜ ì „ëµ ì§€ì›í•˜ì—¬ ìµœì ì˜ ë°©ì‹ ì„ íƒ ê°€ëŠ¥
- í™•ì¥ì„± (Extensibility): í”ŒëŸ¬ê·¸ì¸ ì‹œìŠ¤í…œì„ í†µí•´ í•„ìš”í•œ ê¸°ëŠ¥ì„ ì§ì ‘ êµ¬ì¶• ë° í™•ì¥í•  ìˆ˜ ìˆëŠ” ìœ ì—°í•œ ì•„í‚¤í…ì²˜ ì œê³µ
- ë¯¸ë˜ ëŒ€ë¹„ (Future proof): Yarn Classicì˜ ë³µì¡í•¨ í•´ê²°
- íš¨ìœ¨ì„± (Efficiency): ìµœì í™”ëœ ìºì‹± ì‹œìŠ¤í…œê³¼ ì„¤ì¹˜ í”„ë¡œì„¸ìŠ¤ë¥¼ í†µí•´ ë¹ ë¥¸ ì„¤ì¹˜ ì†ë„ì™€ ë””ìŠ¤í¬ ê³µê°„ íš¨ìœ¨ì„± ì œê³µ

<br />

## Corepack

> Start by enabling Corepack, if it isn't already; this will add the yarn binary to your PATH:

<br />

ì²˜ìŒ yarnì„ ì„¤ì¹˜í•  ë•Œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•˜ë¼ê³  í•œë‹¤.

<br />

```bash
corepack enable
```

<br />

`Corepack`ì´ë¼ëŠ” í‚¤ì›Œë“œê°€ ë“±ì¥í•˜ëŠ”ë° ë§¤ë²ˆ 'ê·¸ëƒ¥ ì´ê±°ë¥¼ ì„¤ì¹˜í•´ì•¼ í•˜ëŠ”êµ¬ë‚˜' í•˜ê³  ë„˜ì–´ê°”ë‹¤. ğŸ˜…

ë˜í•œ, ë¬¸ì„œì—ì„œëŠ” `npm install -g yarn` ì„ ì‹¤í–‰í•˜ì§€ ë§ë¼ê³  ì•ˆë‚´í•˜ë©° ê¶Œì¥í•˜ì§€ë„ ì•ŠëŠ”ë‹¤. (ëª°ëë˜ ì‚¬ì‹¤â€¦)

ì´ìœ ëŠ” **í”„ë¡œì íŠ¸ ì¢…ì†ì„±ì„ ì ê°€ì•¼ í•˜ëŠ” ê²ƒì²˜ëŸ¼ íŒ¨í‚¤ì§€ ê´€ë¦¬ì ìì²´ë„ ì ê°€ì•¼ í•œë‹¤ê³  í•œë‹¤.**

<br />

ë§Œì•½ yarnì„ ê¸€ë¡œë²Œ ë°”ì´ë„ˆë¦¬ë¡œ ì„¤ì¹˜í•˜ë©´ í•­ìƒ ìµœì‹  ë²„ì „ì„ ì‚¬ìš©í•œë‹¤.

ê·¸ë˜ì„œ ë¦´ë¦¬ì¦ˆ ì‚¬í•­ì— ë”°ë¼ í”„ë¡œì íŠ¸ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆë‹¤.

<br />

ì´ì— í”„ë¡œì íŠ¸ì˜ `dependencies`ì— ëŒ€í•œ `lockfile`ì²˜ëŸ¼ í”„ë¡œì íŠ¸ë³„ë¡œ ì‚¬ìš©í•  íŒ¨í‚¤ì§€ ê´€ë¦¬ì ë²„ì „ì„ ì •ì˜í•  ìˆ˜ ìˆë„ë¡ ê³µì‹ `Node.js` ë„êµ¬ì¸ `Corepack`ì„ í™œìš©í•˜ëŠ” ê²ƒì´ë‹¤.

<br />

ì¦‰ `Corepack`ì€ **íŒ¨í‚¤ì§€ ê´€ë¦¬ìì˜ ë²„ì „ì„ ê´€ë¦¬í•˜ëŠ” ë„êµ¬**ë¡œ ì •ë¦¬í•  ìˆ˜ ìˆë‹¤.

Corepack í™œì„± ì—¬ë¶€ëŠ” `yarn exec env` ëª…ë ¹ì–´ë¥¼ í†µí•´ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

<br />

![Yarn Corepack](./images/yarn-corepack.png)

<br />

## ì„¤ì¹˜ êµ¬ì„± ë‹¨ê³„

`yarn install`ì„ í•˜ë©´ í¬ê²Œ ë‹¤ìŒ 3ê°€ì§€ ë‹¨ê³„ê°€ ë°œìƒí•œë‹¤.

### Resolution (ì˜ì¡´ì„± í•´ê²° ë‹¨ê³„)

**í”„ë¡œì íŠ¸ì— í•„ìš”í•œ íŒ¨í‚¤ì§€ì˜ ë²„ì „ì„ ê²°ì •í•˜ê³  ì˜ì¡´ì„± íŠ¸ë¦¬ë¥¼ êµ¬ì„±**í•œë‹¤.

`lockfile`ì—ì„œ ê¸°ì¡´ì˜ ì˜ì¡´ì„± ì •ë³´ë¥¼ ë¡œë“œí•˜ê³ , `package.json` íŒŒì¼ì„ ì½ì–´ í˜„ì¬ í”„ë¡œì íŠ¸ì˜ ìƒíƒœë¥¼ íŒŒì•…í•œë‹¤.
ì´ë¥¼ í†µí•´ ì•„ì§ ì„¤ì¹˜ë˜ì§€ ì•Šì€ íŒ¨í‚¤ì§€ë“¤ì„ ì‹ë³„í•œë‹¤.

### Fetch (íŒ¨í‚¤ì§€ ë‹¤ìš´ë¡œë“œ ë‹¨ê³„)

`Resolution` ë‹¨ê³„ì—ì„œ êµ¬ì„±ëœ íŒ¨í‚¤ì§€ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì œ íŒ¨í‚¤ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•œë‹¤.

### Link (íŒ¨í‚¤ì§€ ì—°ê²° ë‹¨ê³„)

**íŒ¨í‚¤ì§€ë¥¼ ì‹¤ì œë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ ìƒíƒœë¡œ ë§Œë“œëŠ” ë‹¨ê³„**ë¡œ, ê° ëŸ°íƒ€ì„ í™˜ê²½ì— ë§ê²Œ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³  ì—°ê²°í•œë‹¤.

ì„±ëŠ¥ ì¸¡ë©´ì—ì„œ ì¤‘ìš”í•œ ì—­í• ì„ í•œë‹¤.

## ì„±ëŠ¥

`Link` ë‹¨ê³„ì˜ ì°¨ì´ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´ **Yarn PnPì€ ì„ íƒ ì‚¬í•­**ì´ë‹¤.

`yarnrc.yml` íŒŒì¼ì— `nodeLinker: node-modules` ì„¤ì •í•˜ë©´ ì–¸ì œë“ ì§€ `node_modules`ë¡œ ì´ë™ ê°€ëŠ¥í•˜ë‹¤.

<br />

**node_modules ë°©ì‹**

![Link ë‹¨ê³„ node_modules ì†ë„](./images/yarn-link-node-modules.png)

<br />

**PnP ë°©ì‹**

![Link ë‹¨ê³„ PnP ì†ë„](./images/yarn-link-pnp.png)

### ê³µì‹ ë²¤ì¹˜ë§ˆí¬

yarnì€ [Official benchmarks](https://yarnpkg.com/features/performances#official-benchmarks)ì—ì„œ í•œ ì£¼ ë™ì•ˆ ì£¼ìš” íŒ¨í‚¤ì§€ ê´€ë¦¬ìì—ì„œì˜ ì„¤ì¹˜ ì‹œê°„ì„ ë¹„êµí•´ì„œ ì•Œë ¤ì¤€ë‹¤.

### yarnì˜ ìš°ì„ ìˆœìœ„ëŠ” workspaces

> We prioritized workspaces because we felt like monorepos were providing significant value.


í° ì†ë„ ê°œì„ ì´ ì¡´ì¬í•˜ì§€ë§Œ,

[ë¬¸ì„œ](https://yarnpkg.com/getting-started/qa#is-yarn-faster-than-other-package-managers)ì—ì„œ yarnì€ ëª¨ë…¸ë ˆí¬ê°€ ìƒë‹¹í•œ ê°€ì¹˜ë¥¼ ì œê³µí•œë‹¤ê³  ìƒê°í•˜ì—¬ ëª¨ë…¸ë ˆí¬ì— ìš°ì„ ìˆœìœ„ë¥¼ ë‘”ë‹¤ê³  í•œë‹¤.

<br />

> Speed is relative and a temporary state. Processes, roadmaps and core values are what stick.

'**ì†ë„ëŠ” ìƒëŒ€ì ì´ê³  ì¼ì‹œì ì¸ ìƒíƒœì´ë‹¤. í”„ë¡œì„¸ìŠ¤, ë¡œë“œë§µ, í•µì‹¬ ê°€ì¹˜ê°€ ì§€ì†ë˜ëŠ” ê²ƒì´ë‹¤.**'ë¼ëŠ” ë¬¸êµ¬ê°€ ì¸ìƒì ì´ë‹¤.

## PnP

> ì¼ë°˜ì ì¸ `node_modules` ë””ë ‰í„°ë¦¬ë¥¼ ìƒì„±í•˜ëŠ” ëŒ€ì‹  í•˜ë‚˜ì˜ íŒŒì¼(.pnp.cjs)ì„ ìƒì„±í•œ ë‹¤ìŒ `Node`ì— ì£¼ì…í•˜ì—¬ ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ìœ„ì¹˜ë¥¼ ì•Œë ¤ì£¼ëŠ” ì„¤ì¹˜ ì „ëµ

<br />

yarnì˜ í•µì‹¬ ê¸°ëŠ¥ìœ¼ë¡œ `node_modules` ì—†ì´ `JavaScript Map` ê°ì²´ë¥¼ í™œìš©í•´ ì˜ì¡´ì„±ì„ ì—„ê²©í•˜ê³  ë¹ ë¥´ê²Œ ê´€ë¦¬í•˜ëŠ” ì ‘ê·¼í•˜ê³ ì í•œë‹¤.

<br />

`node_modules` ëŒ€ì‹  ë‹¨ì¼ `Node.js` ë¡œë” íŒŒì¼ì¸ `.pnp.cjs`ê°€ ìƒì„±ë˜ëŠ”ë° ë‹¤ìŒ ì—­í• ì„ í•œë‹¤.

- í”„ë¡œì íŠ¸ì˜ ì˜ì¡´ì„± íŠ¸ë¦¬ì— ëŒ€í•œ ëª¨ë“  ì •ë³´ í¬í•¨
- ë””ìŠ¤í¬ì— ìˆëŠ” íŒ¨í‚¤ì§€ì˜ ìœ„ì¹˜ë¥¼ ë„êµ¬ì— ì œê³µ
- `require`, `import` í˜¸ì¶œì„ í•´ê²°í•˜ëŠ” ë°©ë²• ì œê³µ

<br />

PnP ê¸°ëŠ¥ì„ í†µí•´ ë‹¤ìŒê³¼ ê°™ì€ ì¥ì ì„ ì–»ì„ ìˆ˜ ìˆë‹¤ê³  í•œë‹¤.

- ì„¤ì¹˜ ê³µê°„ ìµœì†Œí™” (Minimal install footprint)
- ë””ìŠ¤í¬ ê°„ ê³µìœ  ì„¤ì¹˜ (Shared installs across disks)
- ì™„ë²½í•˜ê³  ì •í™•í•œ í˜¸ì´ìŠ¤íŒ… (Perfect and correct hoisting)
- ìœ ë ¹ ì˜ì¡´ì„± ë³´í˜¸(Ghost dependencies protection)
- ì‹œë©˜í‹± ì˜¤ë¥˜(Semantic erroring)

### npm / pnpm ê³¼ë„ ì˜ í˜¸í™˜ëœë‹¤.

yarn PnPëŠ” êµ¬í˜„ ì„¸ë¶€ ì‚¬í•­ì—ëŠ” ì°¨ì´ê°€ ìˆì§€ë§Œ ë‹¤ë¥¸ íŒ¨í‚¤ì§€ ê´€ë¦¬ìì™€ ë™ì¼í•œ `public interface`ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„¤ê³„ë˜ì—ˆë‹¤.

í”„ë¡œì íŠ¸ê°€ PnPê³¼ í•¨ê»˜ ì‘ë™í•œë‹¤ë©´ ì–´ë””ì„œë‚˜ ì‘ë™í•œë‹¤. ex) yarn PnP â†’ npm âœ…

<br />

í•˜ì§€ë§Œ ë°˜ëŒ€ëŠ” ì•„ë‹ˆë‹¤. ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²½ìš°ë„ ì¡´ì¬í•œë‹¤. ex) npm â†’ yarn PnP â

ë‹¤ë¥¸ íŒ¨í‚¤ì§€ ê´€ë¦¬ìëŠ” ì ì ˆí•œ ì˜ì¡´ì„± ëª©ë¡ì„ ê°•ì œí•˜ì§€ ì•Šì•„ì„œ ìœ ë ¹ ì˜ì¡´ì„± ë¬¸ì œì— ì·¨ì•½í•  ìˆ˜ ìˆë‹¤.

<br />

**PnPëŠ” ê°€ì¥ ì—„ê²©í•˜ê³  ì •í™•í•œ ì„¤ì¹˜ ë°©ì‹**ì´ë‹¤.

### ghost dependencies í•´ê²° ë°©ì‹

`packageExtensions`ì„ í†µí•´ ì¢…ì†ì„±ì˜ íŒ¨í‚¤ì§€ ì •ì˜ í™•ì¥í•˜ì—¬ `third-party` ì´ìŠˆë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

<br />

**.yarnrc.yml**

```yaml
yarnPath: .yarn/releases/yarn-4.6.0.cjs

packageExtensions:
  "@fastify/autoload@*":
    peerDependencies:
      fastify: "^5"
  "@fastify/cors@*":
    peerDependencies:
      fastify: "^5"
  "@fastify/env@*":
    peerDependencies:
      fastify: "^5"

  "fastify-plugin@*":
    peerDependencies:
      fastify: "^5"
  "fastify-graceful-shutdown@*":
    peerDependencies:
      fastify: "^5"
```

## Zero-installs

yarnì˜ ì£¼ìš” ìºì‹± ì „ëµìœ¼ë¡œ `Zero-installs`ê°€ ì¡´ì¬í•œë‹¤.

ì´ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ ë¸Œëœì¹˜ ë³€ê²½ ì‹œ `yarn install`ì„ ì‹¤í–‰í•  í•„ìš”ê°€ ì—†ê²Œ ëœë‹¤.

<br />

`.pnp.*` ê³¼ `.yarn/cache`(Offline mirror)ì„ ì»¤ë°‹í•˜ë©´ ì ìš©ëœë‹¤.

(ëŒ€ë¶€ë¶„ì˜ ê²½ìš° `.pnp*` ë¡œë” íŒŒì¼ë§Œ ì¶”ê°€í•´ë„ ëœë‹¤ê³  í•œë‹¤.)

## í”ŒëŸ¬ê·¸ì¸

í™•ì¥ì„±ê³¼ ê´€ë ¨í•´ì„œ íŠœí† ë¦¬ì–¼ì„ í†µí•´ ì§ì ‘ í”ŒëŸ¬ê·¸ì¸ì„ ì ìš©í•´ë³¼ ìˆ˜ ìˆë‹¤.

<br />

`plugin-hello-world.js` íŒŒì¼ì„ ì¶”ê°€í•œë‹¤.

<br />

```js
module.exports = {
  name: `plugin-hello-world`,
  factory: (require) => {
    console.log('Hello World!');
    return {};
  },
};
```

<br />

ì¶”ê°€í•œ í”ŒëŸ¬ê·¸ì¸ì„ yarnì´ ì°¾ì„ ìˆ˜ ìˆë„ë¡  `.yarnrc.yml`ì— ë“±ë¡í•œë‹¤.

<br />

```yml
plugins:
  - ./plugin-hello-world.js
```

<br />

![yarn í”ŒëŸ¬ê·¸ì¸ hello world ì¶œë ¥](./images/yarn-plugin-hello-world.png)

<br />

### command ì¶”ê°€

ìì²´ ì»¤ë§¨ë“œë¥¼ ì¶”ê°€í•´ë³´ì.

`yarn` ì—ì„œëŠ” [clipanion](https://github.com/arcanis/clipanion)ë¥¼ í™œìš©í•œë‹¤.

<br />

**plugin-hello-world.js**

```js
module.exports = {
  name: `plugin-hello-world`,
  factory: (require) => {
    const { BaseCommand } = require(`@yarnpkg/cli`);

    class HelloWorldCommand extends BaseCommand {
      static paths = [[`hello`]];

      async execute() {
        this.context.stdout.write(`This is my very own plugin ğŸ˜\n`);
      }
    }

    return {
      commands: [HelloWorldCommand],
    };
  },
};
```

<br />

`yarn hello`ë¥¼ ì‹¤í–‰í•˜ë©´ ì¶”ê°€í•œ ë©”ì‹œì§€ê°€ ë‚˜ì˜¨ë‹¤.

<br />

![yarn í”ŒëŸ¬ê·¸ì¸ command hello ê²°ê³¼](./images/yarn-plugin-command-result.png)

<br />

### hooks ì‚¬ìš©

yarn ìƒëª…ì£¼ê¸° ë‚´ì—ì„œ ë‹¤ì–‘í•œ ì´ë²¤íŠ¸ë“¤ë„ ë“±ë¡í•  ìˆ˜ ìˆë‹¤.

ì´ë•Œ `hooks` ì†ì„±ì„ í™œìš©í•  ìˆ˜ ìˆë‹¤.

<br />

```js
module.exports = {
  name: `plugin-hello-world`,
  factory: require => ({
    hooks: {
      setupScriptEnvironment(project, scriptEnv) {
        scriptEnv.HELLO_WORLD = `my first plugin!`;
      },
    },
  })
};
```

![yarn í”ŒëŸ¬ê·¸ì¸ hooks script](./images/yarn-plugin-hooks-script.png)

<br />

![yarn í”ŒëŸ¬ê·¸ì¸ hooks ê²°ê³¼](./images/yarn-plugin-hooks-result.png)

## ì°¸ê³  ë¬¸ì„œ

- [yarn](https://yarnpkg.com/)
- [node_modulesë¡œë¶€í„° ìš°ë¦¬ë¥¼ êµ¬ì›í•´ ì¤„ Yarn Berry](https://toss.tech/article/node-modules-and-yarn-berry)
- [íŒ¨í‚¤ì§€ ë§¤ë‹ˆì €ì˜ ê³¼ê±°, í† ìŠ¤ì˜ ì„ íƒ, ê·¸ë¦¬ê³  ë¯¸ë˜](https://toss.tech/article/lightning-talks-package-manager)
- [How Yarn PnP can save your space-time - Burak YiÄŸit Kaya](https://www.youtube.com/watch?v=AFBYxQPq-2c)
- [How Yarn Actually Works](https://www.youtube.com/watch?v=L4gNYmlPCc4)
- [How Yarn PnP solved the node_modules problem](https://www.youtube.com/watch?v=LUykz1etOo0)
